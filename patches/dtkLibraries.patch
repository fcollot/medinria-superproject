commit 9bf292570ce7f6d6ab7480b9fc60c3405a267236
Author: Florent Collot <florent.collot@ihu-liryc.fr>
Date:   Mon Sep 24 23:36:08 2018 +0200

    [PATCH] dtkLibraries

diff --git a/cmake/FindDTK.cmake.in b/cmake/FindDTK.cmake.in
index a85d2181..3b2cc3ae 100644
--- a/cmake/FindDTK.cmake.in
+++ b/cmake/FindDTK.cmake.in
@@ -29,8 +29,6 @@ set(dtk_CMAKE_DIRS   "@dtk_CMAKE_DIR@")
 
 set(dtk_USE_FILE "@dtk_USE_FILE@")
 
-set(DTK_LIBRARIES dtkMath dtkCore dtkGui dtkComposer)
-
 set(QT_QMAKE_EXECUTABLE "@QT_QMAKE_EXECUTABLE@")
 
 include(${dtk_USE_FILE})
diff --git a/cmake/dtkConfig.cmake.in b/cmake/dtkConfig.cmake.in
index ca86382b..92806a1f 100644
--- a/cmake/dtkConfig.cmake.in
+++ b/cmake/dtkConfig.cmake.in
@@ -36,6 +36,8 @@ set(DTK_HAVE_NITE "@DTK_HAVE_NITE@")
 set(DTK_HAVE_PYTHON "@DTK_HAVE_PYTHON@")
 set(DTK_BUILD_WRAPPERS "@DTK_BUILD_WRAPPERS@")
 set(DTK_HAVE_TCL "@DTK_HAVE_TCL@")
+set(DTK_HAVE_COMPOSER "@DTK_HAVE_COMPOSER@")
 
 set(DTK_BUILD_VR "@DTK_BUILD_VR@")
 set(DTK_BUILD_WRAPPERS "@DTK_BUILD_WRAPPERS@")
+set(DTK_BUILD_COMPOSER "@DTK_BUILD_COMPOSER@")
diff --git a/cmake/dtkDependencies.cmake b/cmake/dtkDependencies.cmake
index c5933f11..cdf9211e 100644
--- a/cmake/dtkDependencies.cmake
+++ b/cmake/dtkDependencies.cmake
@@ -252,6 +252,16 @@ endif(QWT_FOUND)
 # mark_as_advanced(OPENNI_LIBRARY)
 # mark_as_advanced(NITE_LIBRARY)
 
+## #################################################################
+##
+## #################################################################
+
+set(DTK_LIBRARIES dtkMath dtkCore dtkGui dtkLog)
+
+if(DTK_BUILD_COMPOSER)
+  set(DTK_LIBRARIES ${DTK_LIBRARIES} dtkComposer)
+endif(DTK_BUILD_COMPOSER)
+
 ## #################################################################
 ## 
 ## #################################################################
diff --git a/cmake/dtkUse.cmake.in b/cmake/dtkUse.cmake.in
index 98438773..2c12ca42 100644
--- a/cmake/dtkUse.cmake.in
+++ b/cmake/dtkUse.cmake.in
@@ -31,4 +31,10 @@ if(NOT DTK_USE_FILE_INCLUDED)
    include(dtkBuild)
    include(dtkReporting)
 
+   set(DTK_LIBRARIES dtkMath dtkCore dtkGui dtkLog)
+
+   if(DTK_BUILD_COMPOSER)
+      set(DTK_LIBRARIES ${DTK_LIBRARIES} dtkComposer)
+   endif(DTK_BUILD_COMPOSER)
+
 endif(NOT DTK_USE_FILE_INCLUDED)
